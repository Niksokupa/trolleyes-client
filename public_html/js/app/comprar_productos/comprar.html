<header-component></header-component>
<div class="container" style="margin-top: 50px;">
    <div class="row">
        <div class="col-12">
            <div class="d-flex justify-content-between flex-wrap align-items-center pt-3 pb-2 mb-3">
                <h1 class="h2">
                    <i class="icon ion-md-cart" style="font-size: 50px;"></i>
                    Tu carrito</h1>
                <div class="btn-group mb-4 mb-md-0" role="group" aria-label="Basic example" ng-show="!carritoVacio">
                    <button type="button" class="btn btn-outline-success" style="width: 100%;height: 50px;margin-top: 15px;margin-left: 10px;margin-right: 10px;"
                            ng-click="buy()">
                        <i class="fas fa-credit-card"></i>
                        Comprar
                    </button>
                    <!--                    <button type="button" class="btn btn-outline-secondary" style="width: 100%;height: 50px;margin-top: 15px;margin-left: 10px;margin-right: 10px;"
                                            ng-click="advancedSearch()">
                                            <i class="fas fa-search-plus"></i>
                                            Busqueda avanzada
                                        </button>-->
                    <button type="button" class="btn btn-outline-danger" style="width: 100%;height: 50px;margin-top: 15px;margin-left: 10px;margin-right: 10px;"
                            ng-click="carrito('empty', null)">
                        <i class="fas fa-trash-alt"></i>
                        Eliminar todo
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="row" ng-show="!carritoVacio">
        <div class="col-12">
            <table class="table" style="text-align: center;">
                <thead>
                    <tr>
                        <th scope="col">Foto</th>
                        <th scope="col">Descripcion</th>
                        <th scope="col">Precio</th>
                        <th scope="col">Cantidad</th>
                        <th scope="col">Total</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="producto in productos">
                        <td><image ng-src="http://localhost:8081/imagenes/{{producto.obj_producto.foto}}" style="width: 64px; height: 64px;" /></td>
                        <td>{{producto.obj_producto.desc}}</td>
                        <td>{{producto.obj_producto.precio}} €</td>
                        <td>{{producto.cantidad}}
                            <div style="margin-left: 20px;" class="btn-group" role="group" aria-label="Basic example">
                                <button type="button" ng-click="carrito('add', producto.obj_producto.id)" class="btn btn-outline-secondary"><i
                                        class="fas fa-plus"></i></button>
                                <button type="button" ng-click="carrito('reduce', producto.obj_producto.id)" class="btn btn-outline-secondary"><i
                                        class="fas fa-minus"></i></button>
                                <button type="button" ng-click="carrito('remove', producto.obj_producto.id)" class="btn btn-outline-secondary"><i
                                        class="fas fa-trash-alt"></i></button>
                            </div>
                        </td>
                        <td>{{producto.obj_producto.precio * producto.cantidad}} €</td>
                    </tr>
                    <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td><h2><b>{{total}} €</b></h2></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="row" ng-show="carritoVacio">
        <div class="col-12">
            <div class="alert alert-warning" role="alert">
                No has añadido ningun producto a tu carrito!
                <a href="comprar_productos/plist">
                    <button type="button" class="btn btn-outline-secondary">
                        Comprar ahora!
                    </button>
                </a>
            </div>
        </div>
    </div>
</div>